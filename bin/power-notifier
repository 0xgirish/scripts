#!/usr/bin/env python3

import subprocess
from time import sleep

WAIT_TIME = 60 # wait time in seconds
MAX, MIN = 92, 12


def get_power():
    power = subprocess.check_output(['power']).decode('utf-8')
    return int(power)

def send_notification(power, title, icon):
    subprocess.run(['notify-send', 
                    title, f'power level at {power}%',
                    '-i', icon])

while True:
    power = get_power()
    if power < MIN:
        send_notification(power, 'Low power', 'battery-low') 

    sleep(WAIT_TIME)
